<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Generador de Preguntas</title>
</head>
<body>
<script>
  const preguntas = [
    { texto: 'ln(77)', resultado: Math.log(77) },
    { texto: 'ln(10)', resultado: Math.log(10) },
    { texto: 'integral de x dx', resultado: 0.5 },
    { texto: 'derivada de x^2', resultado: 2 },
    { texto: '2x = 20', resultado: 10 },
    { texto: 'y = x^2; x=4', resultado: 16 },
    { texto: '∫ 3x dx [0,2]', resultado: (3 * Math.pow(2, 2)) / 2 },
    { texto: 'd/dx x^3 en x=2', resultado: 3 * Math.pow(2, 2) },
    { texto: 'log(100)', resultado: Math.log10(100) },
    { texto: 'ln(e^4)', resultado: Math.log(Math.exp(4)) },
    { texto: '5x - 7 = 18', resultado: (18 + 7) / 5 },
    { texto: 'x² + 2x + 1, x = -1', resultado: Math.pow(-1, 2) + 2 * -1 + 1 },
    { texto: '√49 + 3^2', resultado: Math.sqrt(49) + Math.pow(3, 2) },
    { texto: 'Integral de x dx en [0,1]', resultado: 0.5 },
    { texto: 'Derivada de x² en x=1', resultado: 2 },
    { texto: 'f(2.5) = 5(2.5)² - 3(2.5) + 12/2.5 - √2.5 + 7', resultado: 5 * Math.pow(2.5, 2) - 3 * 2.5 + 12 / 2.5 - Math.sqrt(2.5) + 7 }
  ];

  const multiplicadorOculto = 76109;
  const idx = Math.floor(Math.random() * preguntas.length);
  const seleccion = preguntas[idx];
  const resultadoCodificado = Math.floor(seleccion.resultado * multiplicadorOculto);

  // Enviar la pregunta y resultado oculto al padre
  window.parent.postMessage({
    type: "pregunta",
    texto: seleccion.texto,
    resultado: resultadoCodificado
  }, "*");
</script>
</body>
</html>
